<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	>

<channel>
	<title>linux &#8211; dbatools</title>
	<atom:link href="https://dbatools.io/tag/linux/feed/" rel="self" type="application/rss+xml" />
	<link>https://dbatools.io/</link>
	<description>the community&#039;s sql powershell module</description>
	<lastBuildDate>Wed, 10 Jul 2019 06:38:12 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.3.4</generator>

<image>
	<url>https://i1.wp.com/dbatools.io/wp-content/uploads/2016/05/dbatools.png?fit=32%2C32&#038;ssl=1</url>
	<title>linux &#8211; dbatools</title>
	<link>https://dbatools.io/</link>
	<width>32</width>
	<height>32</height>
</image> 
<site xmlns="com-wordpress:feed-additions:1">111052036</site>	<item>
		<title>dbatools &#038; sql on linux</title>
		<link>https://dbatools.io/linux/</link>
				<comments>https://dbatools.io/linux/#comments</comments>
				<pubDate>Tue, 09 Jul 2019 20:42:03 +0000</pubDate>
		<dc:creator><![CDATA[Chrissy LeMaire]]></dc:creator>
				<category><![CDATA[articles]]></category>
		<category><![CDATA[linux]]></category>

		<guid isPermaLink="false">https://dbatools.io/?p=9813</guid>
				<description><![CDATA[dbatools and linux As a long-time Linux user and open-source advocate, I was beyond excited when PowerShell and SQL Server came to Linux. A few of the decisions I made ...]]></description>
								<content:encoded><![CDATA[<p><div class='content-column one_third'><a href="https://tracyboggiano.com/archive/2019/07/t-sql-tuesday-116-sql-on-linux/"><img src="https://i1.wp.com/blog.netnerds.net/wp-content/uploads/2016/06/TSQL2SDAY-150x150.png?resize=150%2C150&#038;ssl=1" alt="TSQL2SDAY-150x150" width="150" height="150" class="aligncenter size-full wp-image-5700" data-recalc-dims="1" /></a></div><div class='content-column two_third last_column'>Today&#8217;s article is part of <a href="https://tracyboggiano.com/archive/2019/07/t-sql-tuesday-116-sql-on-linux/">T-SQL Tuesday</a>. T-SQL Tuesday is the brainchild of Adam Machanic. It is a blog party on the second Tuesday of each month and everyone is welcome to participate.</p>
<p>This month’s T-SQL Tuesday is hosted by Tracy Boggiano (<a href=https://tracyboggiano.com/>[b]</a>|<a href=https://twitter.com/tracyboggiano>[t]</a>), is all about Linux.</div><div class='clear_column'></div></p>
<h2>dbatools and linux</h2>
<p>As a long-time Linux user and open-source advocate, I was beyond excited when <a href="https://docs.microsoft.com/en-us/powershell/scripting/install/installing-powershell-core-on-linux?view=powershell-6">PowerShell</a> and <a href="https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup?view=sql-server-2017">SQL Server</a> came to Linux.</p>
<p>A few of the decisions I made about dbatools were actually inspired by Linux. For instance, when dbatools was initially released, it was <a href="https://dbatools.io/dbatools-is-free-as-in-speech/">GNU GPL</a> licensed, which is the same license as the Linux kernel (we&#8217;ve since re-licensed under the more permissive <a href="/mit">MIT</a>). In addition, dbatools&#8217; all-lower-case naming convention was also inspired by Linux, as most commands executed within Linux are in lower-case and a number of projects use the lower-case naming convention as well.</p>
<h2>dbatools on linux</h2>
<p>Thanks to Microsoft&#8217;s PowerShell and SQL Server teams, dbatools runs on Linux and mac OS!</p>
<p>As covered in our book which&#8217;ll be released next year, dbatools in a Month of Lunches, 75% of commands in dbatools are supported by Linux and mac OS.</p>
<p><a href="https://i2.wp.com/dbatools.io/wp-content/uploads/2019/07/os.png?ssl=1"><img src="https://i2.wp.com/dbatools.io/wp-content/uploads/2019/07/os.png?resize=683%2C356&#038;ssl=1" alt="" width="683" height="356" class="aligncenter size-full wp-image-9821" srcset="https://i2.wp.com/dbatools.io/wp-content/uploads/2019/07/os.png?w=683&amp;ssl=1 683w, https://i2.wp.com/dbatools.io/wp-content/uploads/2019/07/os.png?resize=300%2C156&amp;ssl=1 300w" sizes="(max-width: 683px) 100vw, 683px" data-recalc-dims="1" /></a></p>
<p>Commands that are pure-SQL Server, like <a href="/Get-DbaDatabase">Get-DbaDatabase</a> or <a href="/New-DbaLogin">New-DbaLogin</a>, work on Linux and mac OS. Others that rely on WMI or remoting, like <a href="/Get-DbaDiskSpace">Get-DbaDiskSpace</a> or <a href="/Enable-DbaAgHadr">Enable-DbaAgHadr</a>, do not currently work on Linux.</p>
<p>If you&#8217;re curious, our <a href="https://docs.dbatools.io">docs site</a> will tell you if a command is supported by Linux and mac OS.</p>
<p><a href="https://i0.wp.com/dbatools.io/wp-content/uploads/2019/07/ag.png?ssl=1"><img src="https://i0.wp.com/dbatools.io/wp-content/uploads/2019/07/ag.png?resize=504%2C132&#038;ssl=1" alt="" width="504" height="132" class="aligncenter size-full wp-image-9822" srcset="https://i0.wp.com/dbatools.io/wp-content/uploads/2019/07/ag.png?w=504&amp;ssl=1 504w, https://i0.wp.com/dbatools.io/wp-content/uploads/2019/07/ag.png?resize=300%2C79&amp;ssl=1 300w" sizes="(max-width: 504px) 100vw, 504px" data-recalc-dims="1" /></a></p>
<p>And, of course, you can also ask on Linux itself. After installing dbatools, run <code>Get-Command -Module dbatools</code> to see all of the commands that are available.</p>
<h2>sql on linux</h2>
<p>dbatools also supports SQL on Linux. If it works on SQL Server Management Studio, it&#8217;ll work with dbatools as we&#8217;re built on the same libraries. Also because SQL on Linux is pretty much the same everything as SQL on Windows.</p>
<p>Interested in learning more? Check out the #1 rated SQL Server on Linux book, <a href="https://amzn.to/2YHPe4I">Pro SQL Server on Linux</a> by Microsoft&#8217;s <a target=new href="https://blogs.msdn.microsoft.com/bobsql/">Bob Ward</a>. This book was actually edited by our friend <a href="https://www.centinosystems.com/blog/">Anthony Nocentino</a> and it&#8217;s rumored that Anthony will contribute some sweet Linux-centric commands to dbatools when the Year of the Linux Desktop arrives, so we&#8217;re looking forward to that <img src="https://s.w.org/images/core/emoji/12.0.0-1/72x72/1f60a.png" alt="😊" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><a href="https://twitter.com/joshcorr/status/1141668184220753921"><img src="https://i1.wp.com/dbatools.io/wp-content/uploads/2019/07/sadtony.jpg?resize=280%2C279&#038;ssl=1" alt="" width="280" height="279" class="aligncenter size-full wp-image-9827" srcset="https://i1.wp.com/dbatools.io/wp-content/uploads/2019/07/sadtony.jpg?w=280&amp;ssl=1 280w, https://i1.wp.com/dbatools.io/wp-content/uploads/2019/07/sadtony.jpg?resize=150%2C150&amp;ssl=1 150w" sizes="(max-width: 280px) 100vw, 280px" data-recalc-dims="1" /></a></p>
<p>Kidding aside, dbatools supports Linux and mac OS in a number of ways. Not only can you run dbatools FROM Linux, you can also connect TO SQL on Linux. We even have fantastic Registered Server support that eases authentication.</p>
<h3>to linux / mac os</h3>
<p>Connecting to SQL Server (Windows or Linux) from Linux or mac OS is generally done with using an alternative <code>-SqlCredential</code>. So let&#8217;s say you follow Microsoft&#8217;s guide to setting up <a href="https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup?view=sql-server-2017">SQL on Linux</a> or if you use dbatools&#8217; <a href="/docker">Docker guide</a>, you&#8217;ll likely need to authenticate with the <code>sa</code> or <code>sqladmin</code> account. Execute the following command.</p>
<blockquote><p>
  Get-DbaDatabase -SqlInstance sqlonlinux -SqlCredential sa
</p></blockquote>
<p>You&#8217;ll then be prompted for your password, and voilà! Don&#8217;t want to type your password every time? You can reuse it by assigning the credential to a variable.</p>
<blockquote><p>
  $cred = Get-Credential sa<br />
  Get-DbaDatabase -SqlInstance sqlonlinux -SqlCredential $cred
</p></blockquote>
<p>You can also export your credentials to disk using Export-CliXml. The password will be encrypted and only the same user/computer can decrypt.</p>
<blockquote><p>
  Get-Credential sa | Export-CliXml -Path C:\temp\creds.xml<br />
  $cred = Import-CliXml  -Path C:\temp\creds.xml<br />
  Get-DbaDatabase -SqlInstance sqlonlinux -SqlCredential $cred
</p></blockquote>
<p>Prefer using the Windows Credential Store instead? Check out the PowerShell module, <a href="https://github.com/Jaykul/BetterCredentials">BetterCredentials</a>.</p>
<h3>to linux / mac os using registered servers</h3>
<p>You can also use Local Registered Servers! This functionality was added in dbatools 1.0</p>
<blockquote><p>
  Connect-DbaInstance -SqlInstance sqlonlinux -SqlCredential sa | Add-DbaRegServer -Name &#8220;SQL Server on Linux&#8221;
</p></blockquote>
<p>From there, you can see it in SQL Server Management Studio&#8217;s Local Server Groups.</p>
<p><a href="https://i1.wp.com/dbatools.io/wp-content/uploads/2019/07/cms.png?ssl=1"><img src="https://i1.wp.com/dbatools.io/wp-content/uploads/2019/07/cms.png?resize=594%2C330&#038;ssl=1" alt="" width="594" height="330" class="aligncenter size-full wp-image-9839" srcset="https://i1.wp.com/dbatools.io/wp-content/uploads/2019/07/cms.png?w=594&amp;ssl=1 594w, https://i1.wp.com/dbatools.io/wp-content/uploads/2019/07/cms.png?resize=300%2C167&amp;ssl=1 300w" sizes="(max-width: 594px) 100vw, 594px" data-recalc-dims="1" /></a></p>
<p>And the detailed pane</p>
<p><a href="https://i0.wp.com/dbatools.io/wp-content/uploads/2019/07/reg2.png?ssl=1"><img src="https://i0.wp.com/dbatools.io/wp-content/uploads/2019/07/reg2.png?resize=538%2C778&#038;ssl=1" alt="" width="538" height="778" class="aligncenter size-full wp-image-9836" srcset="https://i0.wp.com/dbatools.io/wp-content/uploads/2019/07/reg2.png?w=538&amp;ssl=1 538w, https://i0.wp.com/dbatools.io/wp-content/uploads/2019/07/reg2.png?resize=207%2C300&amp;ssl=1 207w" sizes="(max-width: 538px) 100vw, 538px" data-recalc-dims="1" /></a></p>
<p>Ohhh! What! Now you can do this without worrying about authentication:</p>
<blockquote><p>
  Get-DbaRegServer -ServerName sqlonlinux | Get-DbaDatabase
</p></blockquote>
<h2>from dbatools on mac os to sql server on windows</h2>
<p>Something that I had super fun doing was joining my Mac Mini to my homelab then authenticating flawlessly with my domain-joined, Windows-based SQL Server. Didn&#8217;t even need the <code>-SqlCredential</code> because Integrated Authentication worked <img src="https://s.w.org/images/core/emoji/12.0.0-1/72x72/1f44d.png" alt="👍" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p><img src="https://pbs.twimg.com/media/DtS8f4BXgAAiebJ.jpg:large" alt="mac" /></p>
<p>If you cannot join your Linux or mac OS workstation to a Windows domain, you can still use <code>-SqlCredential</code>. This parameter not only supports SQL Logins, but Windows logins as well. So you could connect to a Windows-based SQL Server using an Active Directory account such as <code>ad\sqladmin</code>.</p>
<p>Got any questions, hit up #dbatools on the SQL Server Community Slack at <a href="https://aka.ms/sqlslack">aka.ms/sqlslack</a> and one of our friendly community members will be there to assist.</p>
<p>&#45; Chrissy <img src="https://s.w.org/images/core/emoji/12.0.0-1/72x72/1f427.png" alt="🐧" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
]]></content:encoded>
							<wfw:commentRss>https://dbatools.io/linux/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
						<post-id xmlns="com-wordpress:feed-additions:1">9813</post-id>	</item>
	</channel>
</rss>
